package gcd_sort_of_an_array;

import org.junit.Assert;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.Parameterized;
import org.junit.runners.Parameterized.Parameters;

import java.util.Arrays;
import java.util.Collection;

@RunWith(Parameterized.class)
public class GcdSort {
    private final int[] input;
    private final boolean expected;

    public GcdSort(String name, boolean expected, int[] input) {
        this.input = input;
        this.expected = expected;
    }

    @Parameters(name="{0}")
    public static Collection<Object[]> testCases() {
        return Arrays.asList(new Object[][] {
                { "7,21,3", true, new int[]{7,21,3}},
                {"5,2,6,2", false, new int[]{5,2,6,2}},
                {"10,5,9,3,15", true, new int[]{10,5,9,3,15}},
                {"2,5,6,5,10", true, new int[]{2,5,6,5,10}},
                {"large", false, new int[]{
                        1921,3439,1883,1518,3447,3223,2346,3726, 943,3374,2931,1935,3384,2545, 965,3863,2471,3479,4554,1155,
                        2541,4721,4991, 890,2493,  85,2506,3611,1908, 506,1016,3917, 123, 132,1796, 327,2472, 100,2490,3704,
                        3595,1165,3438, 477,2305,2247,1140,3976,2203,4045,4585,3425,1244, 766,3998,3850,4978, 698,1290,3246,
                         509,2724,3457,1250,4188,3963,4269, 133, 432,1533,2801,4368, 723,2199, 321,4146,2740,2091,1182,2114,
                        4864,1967,2897,1009,1471,4934,3486, 322,2826,3749, 687,1333,1267,3839,1627,4285, 925,2638,3856,3034,
                        2686,  73,2520,1316,1554,3875,2383,4624,1490,2099,3741,2241,3559,3263,3421,1412,4393,4147,4899,2715,
                        2840,2759,4624,1519,1769,4669,3988, 144,1908,3067,1842, 103,4489,2853,1090,2943,3355,3246,3686,3386,
                          85,1488,2081, 507, 195,3356, 598,2425,1904,4498,1445,3071, 899,1151,4534,2272,2282,3760,3128,2026,
                        2986,3262,2817,3941,1157, 686, 930,2143,4380, 387,2561, 448, 996,4802,1652,1286,3662,2521,3303,4833,
                        3544,4408,4604, 701,4398,3228,4081, 384,2398,1893,3103,2690,4543,4116,4187,2536,4543, 312,4844,4577,
                        4029,4546,2388,1003,3066, 966,2671,1619,1758, 293,1794,1946, 586,1297,2585,1279,3435, 946,4978,4816,
                        4758,3047,4285,2926,1555, 334,2814, 904, 924,4650,2662,4693, 263,3906,1800,2948,3419,3982,4895,3117,
                        1828,3127, 907,4491,3142,4455, 381,2117,4978,3818,2816, 551,3776,4815,  56,2153,2250,3235,3836,1187,
                        4041,4847,1325,2969,3750, 213, 572, 249,4629,3797,4913,2776, 429,4946,2441,4211,2931,1075,1818,1397,
                        1485,2513,1690,4718,4390,1802,4241, 600,4792,  46, 682,3179, 116,2959, 540,4171,4343,2414,2403,4464,
                        1211,2109,4904,3838,4212,3413,2411, 508, 315,2405, 437,2229,2842,4796,4654,2682,3380,1933, 388,3140,
                        4577,4763,1333,2772,3502,4538,4436,2670,2574, 749,4080,1740,4622,4951,3626,4207,4189,2183,3435,3073,
                        3579,3039,2625,3362, 803,2379,1261,3899,3537,4197,4014,4145,4668,4545,1081,1367, 536,2816,2499,2617,
                        2849,1723, 549,3233, 841,1818,2009,2058,2857,2894,1483,3713,3736,1993,4281,  71,2934,4430,3252,1897,
                        2142,4468, 324,1772,2652,3826,2998,1933,  97,3190,3721,4819,1392,1842, 257,4624,3649,1113,2558,3919,
                        4758, 789,4875,2235,3837,1590,4846,2002,2874,4801,1110,3652, 172,3041,1660, 399, 938,4387, 663,1341,
                        1123,1720,3661,1392, 364,3134,1905, 893, 428, 477,1830,3292,1341,1800,2520,3880,1747,1756,2867,2382,
                        4195,4092,1309,2228, 610,3942,2632,4127,3985,1986,4599,2243,3432,1561,2720,3195,1406,754,4963,3810,
                        1608,1585,1099,4726,4774,2975,2127,4304,4495, 745, 311,1514,3570,1456,1714,1874, 918,3323,1715,3559,
                        3358,1294,2823,1013,3112,1923, 112,3903,4618, 946,3957,1935,4921,3057,3486,3501,4923,4481,3120,1737,
                        1630,4397,3616,1348,2105, 112,2962,4068,1489,4298,3001,4691, 631,4275, 661,3489,3892,4650,3757,1057,
                        3652, 641,4853,1582,1735,1619,3428,1648,4912,  76, 411, 426,2344,2119,1682,3447,2251,1832,1344,3230,
                        1403,3800,1875,2122,2767,2504,1158,3918,3679,2239,4029,2440,3349,1879,3411,2775, 263,4998,4765,4115,
                         404,1527, 492,1978, 646,1197,4633,1724, 592,1061,2374,1244, 923,2187,4870, 851,3431,1301,2140, 976,
                        3838,3332,4060,2228,3688, 163,4702,2017,3865,1146,3575,2544,4696, 844,1719,2492,3324,3850,2912, 421,
                        1111,3067, 467,2796,1631,2974,3029, 396,4068, 304,3147, 505,3329,3533,3945, 590,1066,3501,3308,3835,
                        2027, 109,2198,4228,3024, 517,3413, 336,3841,3263,3307,4980, 899,2188,  63,1157, 541,3095,4064,1037,
                        3578,3150,4867,4782,4329, 557,2002,2582,1518,1297,4009,1352,2306,1418, 319,2674,2025,1382,2958,2133,
                        1855,4305, 118, 930,4034,4159,2973, 748,4994,2670,2389, 430,  82,1757,3192,3126,3139, 968,1961,2121,
                         475,2985,3510,4909,4465,3042,2516,1568, 853,2346, 657,3500, 325,1343,2710, 730, 976,3323,4835,2570,
                        4374,2357,3949, 791,4503, 773,1255,2734,4737,2226, 164,4373, 514,2232,1647,2680,3650,1707,2984,1619,
                        3473,3717,2562,2203,1136,3856,3432, 159,1644,4776, 270,1364,3448, 229, 693, 856,1104, 723,3895,2129,
                        4991, 375, 641,2932,1825,1106, 582,1609,4576, 607,4760, 830,3045,2891,3503,2764,2061,2887, 810,3830,
                         263,4231,2867, 235,2783,3086, 425, 102,3570,1579,1957,2413,3311, 287, 788,3221,2620,3402,4472,3649,
                        4895,3886,2108,1492,4430,2449,4316,4993, 780, 699,1114,2086,3026,4177,2721,3588,2866,4047,4840,3673,
                        2726, 966,4130,4664,3999,3437,4397,2086,1851,1812,2669,4577,2499,1438,4997,2931,4866, 971,3929, 761,
                        1052, 951,2178, 171,1486, 456, 625, 157,4081,1005, 375,3542,2813,2454,3828, 572, 407,3654, 486,4770,
                         832,3557,3383,4153, 505,1139,2063,4704, 959,3854, 246,1762, 815,3476,4079,3822,1021,4148,3274,1346,
                        4068,4394,3390, 351,2018,4349,1565, 916, 896,4551,1895,2557,1885,3558,1185,2228,1067, 496,1669,3491,
                        1762, 486,2866,3136,3049,3494,1008,4019,1180,1998,4995,2227,2545, 483, 232,1459, 461,2609,1196, 459,
                        1227,1163,1178,1138,1351,611,996,2911,4361,1663,3148,3129,2546,3948,4403,4757,3867,564,609,3720,
                        361,2112,1438,3726,3188,2480,821,2187,4096,665,1506,4768,2112,4110,636,800,2245,641,3648,1168,
                        1900,703,3637,1012,49,3556,416,4083,2515,2016,2203,1300,916,3832,4739,2055,122,4497,1608,1740,
                        2978,2112,4188,492,869,4739,1394,312,664,2483,2298,4093,1480,3952,4329,4409,1311,2832,4668,898,
                        4597,1016,1253,964,1113,4249,3290,4276,3583,2074,1517,3581,287,4604,2696,851,4044,3389,497,4643,
                        4548,1738,347,4383,2597,1407,3534,4866,52,3471,3280,2898,4910,1238,4707,75,1415,4894,1364,1450,
                        3771,1508,1172,3786,1523,2640,506,3291,815,2788,1843,3997,3335,776,4301,3401,1820,2037,1657,4808,
                        2121,2565,1614,1215,1112,3287,4961,2366,4871, 478, 463,3800,2724,3774,4424,3746,2898,3460,  92, 956,
                        4698,263,4285,2431,469,2007,1382,4746,2282,1281,3118,796,1069,4823,1753,1629,2717,1098,3446,3430,
                        4027,178,2887,4264,4911,3351,2244,4378,1357,1803,1201,4745,4112,1216,2937,1081,2876,2014,661,1390,
                        1205,904,1583,3084,1929,1163,3743,3915,748,4791,3891,1001,816,3003,1244,3248,3142,3731,917,3897,
                        2804,4365,4167,1352,4540,3116,2431,2177,2406,3070,1922,1963,4329,1719,3658,1714,3989,702,187,165,
                        2523,4633,1829,1471,4378,1274,3319,2002,4309,4251,1976,4318,1031,239,1175,2822,845,2561,538,752,
                        1191,4569,4342,3437,3365,4236,4162,4884,2576,3027,3594,3086,3478,2560,3187,2237,4796,2342,3544,1981,
                        3363,1644,2744,1868,315,4201,1720,1523,4137,1782,521,4688,3638,1667,1674,643,2653,1000,422,4443,
                        1264,1087,1582,2371,2033,327,3390,4344,1499,757,2255,426,254,922,4202,2896,238,4794,2910,2160,
                        4924,2029,4028,1308,3897,2235,383,1169,1638,2037,2108,4390,3408,4658,845,430,77,746,893,1434,
                        4195,1653,1029,513,4219,4637,2113,3868,3436,4528,60,3699,1799,3355,4432,2593,3441,762,4814,982,
                        609,3636,2085,1586,2110,2999,487,2871,2008,2465,2686,520,3126,2365,3319,893,3835,3727,2087,1397,
                        2981,4653,3396,811,430,655,4191,1780,980,223,847,3155,3401,1831,4245,2184,2715,3517,381,1295,
                        3344,3492,4961,2892,1257,2866,397,71,1038,3921,3851,2385,4401,4984,3284,4043,4025,3363,2420,2049,
                        508,833,4163,1250,3295,1202,1924,808,2911,2379,4759,4543,316,1352,778,3169,1458,690,781,2890,
                        2473,3312,2277,2366,2696,1611,3749,3922,3015,842,838,4548,4374,239,2782,726,1042,3441,4796,4402,
                        3141,2845,701,2331,4855,4862,4768,2884,404,454,3341,876,3090,2365,3981,2424,1205,3948,3725,1169,
                        460,3668,1479,3742,3024,1400,4858,3696,4201,2501,3831,3007,4124,492,1316,3352,2145,2585,3419,3602,
                        1275,4070,3789,3575,1694,4014,1756,1938,3136,1967,2619,1861,2671,3981,2851,4231,3729,1535,1255, 741,
                        2879,4337,4996,2976, 975, 140,3769,2537,2925,2925,4474,4822,1232,2071,1925,4667,1468,3761, 468,1748,
                        4460,2300, 138,2199,3235, 348,2966,4991,3485, 573,3489, 842,4954, 383,2343,3684,1513,2325,4363,2912,
                          41,1954,1294,4145,2484,3099, 325,4707,3079,2754,1273, 134, 682,2054,4939,1616,2282, 947,4572,2958,
                         388,4445,2482,3350, 173,3501,3618,1375,4845,4935,1211,2372,3839,3755,4522,4990,1061,1026,1791,1001,
                        3040,2543,2814,4823,2449,4305, 330,3774, 480, 707,2045,1633,1328,3492,1257,2593,1048,1423,1857,  74,
                        3803,3366,1514,   2,2686,2039, 374,1363,2745, 836,1659,3329,1341,4116, 480,3955,4814, 820,2746,1422,
                        1794, 389,3454,2326, 621,1154,3420,2599,4142,4490,1551,1664,3557,3472,2709,2413, 120, 791, 561,3482,
                        4950,2105,4134,1729,3550,2323,2242, 963,3857,2591,2738,4169, 757,3877, 384, 840,1280,4296,2231,1106,
                        3033,2362,4635,4534, 992,4714, 941,2524,2774,  29, 484,3103, 456,3636,4505,3180,4931,1332,2536,2962,
                        3117, 474, 554,3784,1627, 540,4397,3202,2899,1585, 221,2259,3537,4285,3069, 231, 351,4939,1610, 773,
                        2886, 801,3036,3554,2062, 948,1446,3805,2911,1534, 517,  33,2928,4280, 215,3365, 262,1331,2605,3361,
                        1105, 235,4915,2225,3842,3439,3939,4689,1336,3348,1801, 202,2882, 221,2815,4629,2329,4032,  28,4719,
                         977, 494,3200,3148, 247,3265,2724, 992,3783,3973,2459,3990,3221, 239,1932, 877,3105,1441, 841,3419,
                        4339,4102,3571,1960, 335, 117,2466,1599,4157,1546,2381,4983,2285,2256, 141,2841,1784,2270,1296,2288,
                        1126,3642,4334,1671,4708,2497,  14,4398,4399,  20,3823,3760,3274,3071,3613,1858, 617,4827,4882,4896,
                        3643, 213,4764, 581, 889,4012,3381,1637,4311,3781,1566,4399,1815, 791,4908,3535,2255,4717,2374,2405,
                         890,1314,  60, 386,4437,2229, 519,2951,1245,2131,1876,4366,1069,3616,1727, 658,1449,1172,3709,1179,
                        3659,2338,3169,3488,2176,2902, 127,3095,3175,1684,2454,2798, 184,4640,4093,3714,3269,1814,3709,2885,
                        3030,4662,1928,1702,3278,4707,3413,3691,1394,1915,2614,1975,4255, 507,4170,2865,1884, 416,3152,2128,
                        3231,  16,4664,3278, 880,1320,1781,3845,2045,3777, 153,4341,2281,1024,1840,4583,3582,2715,4821,4712,
                        4802,1683,4856,1016,1047, 992,1815,2308, 274,3850,2525,3772,4010,2310,  94,3119,3170,1780,2013,1215,
                        4705,4727,3637,4168,1592, 803,3310,2377,4991,1033,3556,3686,4733,1898, 675,1116,4260,3643, 193,3016,
                        4536,2252,3380,2613,2817,3282,2808,2536,1679,1187,3381,2661,4059,4071,1953,1270,4574,4834,3634,3381,
                        1807,4089,1659,2507,2807,3463,1113,4165,4063, 247,1071,4495,1704,1933,3953, 270,2678,4918,3437,3667,
                         879,4219,4659, 618,1303,2301, 596,3431,4990,2463,1362, 486,1301,2187,2040, 384,3715,4995,4465, 772,
                        1761,1752, 383,4213,1508,2286,2448,3448,3735,1190,  21, 678,2143,4604,2490, 556,4737, 987,3801, 725,
                        1583, 850, 132,2068,2290,2463,4968,1077,4452,1765, 530, 499,1117,4053,1847,1814,2503,3607,3781, 784,
                        2620, 164, 616,1503,3967,4759,1994,2836,3520,4288,2086,1696,1758,4918, 930,4844,3843, 204,2629,1837,
                        2044,2786,2517,4523, 861,1124,3521,2538,4019,3675,2322,4161,1808,2743,3771,3469, 464,2358,4365,3686
                }}
        });
    }
    @Test
    public void gcdSort() {
        Solution solution = new Solution();
        boolean result = solution.gcdSort(input);
        Assert.assertEquals(expected, result);
    }
    @Test
    public void gcdSort2() {
        boolean result = new Solution2().gcdSort(input);
        Assert.assertEquals(expected, result);
    }
}
